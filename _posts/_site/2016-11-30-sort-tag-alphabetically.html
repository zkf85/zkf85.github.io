<blockquote>
  <p>Unordered tags make a Jekyll tag list look sloppy, so if you care about the details, you likely want your tag list to be alphabetized.</p>
</blockquote>

<!--more-->

<h2 id="sort-tags-a--z">Sort Tags A ~ Z</h2>

<h3 id="reference">Reference</h3>

<ul>
  <li><a href="https://blog.lanyonm.org/articles/2013/11/21/alphabetize-jekyll-page-tags-pure-liquid.html">Michael Lanyon - Alphabetizing Jekyll Page Tags In Pure Liquid (Without Plugins)</a></li>
  <li><a href="https://www.siteleaf.com/blog/advanced-liquid-sort/">Advanced Liquid: Sort</a></li>
</ul>

<p>Based on the notes from <a href="https://blog.lanyonm.org">Michael Lanyon</a>, I modified my <code class="highlighter-rouge">tags.html</code> to the version below:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: page
title: Tags
---
<span class="c">&lt;!-- tag sorted - kf 11/30/2016 --&gt;</span>

{% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
<span class="c">&lt;!-- site_tags: {{ site_tags }} --&gt;</span>
{% assign tag_words = site_tags | split:',' | sort %}
<span class="c">&lt;!-- tag_words: {{ tag_words }} --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tags-expo"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tags-expo-list"</span><span class="nt">&gt;</span>
  {% for tag in tag_words %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#{{ tag | cgi_escape }}"</span> <span class="na">class=</span><span class="s">"post-tag"</span><span class="nt">&gt;</span>{{ tag }} <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">"font-size:80%; color:gray;"</span><span class="nt">&gt;</span>{{ site.tags[tag] | size }}<span class="nt">&lt;/span&gt;&lt;/a&gt;</span>
  {% endfor %}
  <span class="nt">&lt;/div&gt;</span>
  
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"tags-expo-section"</span><span class="nt">&gt;</span>
    {% for item in (0..site.tags.size) %}{% unless forloop.last %}
    {% capture this_word %}{{ tag_words[item] | strip_newlines }}{% endcapture %}
  <span class="nt">&lt;h2</span> <span class="na">id=</span><span class="s">"{{ this_word | cgi_escape }}"</span><span class="nt">&gt;</span>{{ this_word }}<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"tags-expo-posts"</span><span class="nt">&gt;</span>
      {% for post in site.tags[this_word] %}{% if post.title != null %}
        <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"post-title"</span> <span class="na">href=</span><span class="s">"{{ site.baseurl }}{{ post.url }}"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li&gt;</span>
        {{ post.title }} <span class="err">&amp;</span>laquo 
      <span class="nt">&lt;small</span> <span class="na">class=</span><span class="s">"post-date"</span><span class="nt">&gt;</span>{{ post.date | date_to_string }}<span class="nt">&lt;/small&gt;</span>
      <span class="nt">&lt;/li&gt;</span>
      <span class="nt">&lt;/a&gt;</span>
      {% endif %}{% endfor %}
    <span class="nt">&lt;/ul&gt;</span>
    {% endunless %}{% endfor %}
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>For <code class="highlighter-rouge">categories.html</code> the basic idea is the same.</p>

<p>When Adding the code block above, I came across a curious problem when writing liquid template code in this markdown file. When Jekyll compiles the static web files, it tries to process all the curly brackets like: <code class="highlighter-rouge">{{</code> and <code class="highlighter-rouge">{%</code>.</p>

<p>This is not a bug , but a <a href="https://github.com/jekyll/jekyll/issues/814">caveat of using a templating language with markdown</a>. The workarounds are provided by</p>

<ul>
  <li><a href="http://ozzieliu.com/2016/04/26/writing-liquid-template-in-markdown-with-jekyll/">Ozzie Liu - Writing Liquid Template in Markdown Code Blocks with Jekyll</a>.</li>
</ul>

<p><strong>Simply put, just add<code class="highlighter-rouge">{% raw %}</code> and <code class="highlighter-rouge">{% endraw %}</code> on the both end when <code class="highlighter-rouge">{{</code> or <code class="highlighter-rouge">{%</code> appears.</strong></p>

<blockquote>
  <p>It is pretty confused to render the above line!!!</p>
</blockquote>

<h2 id="advanced---sort-tags-az-case-insensitive">Advanced - Sort Tags A~Z Case Insensitive</h2>

<h3 id="reference-1">Reference</h3>

<ul>
  <li><a href="https://github.com/Shopify/liquid/issues/529">Add case-insensitive sort #529</a>
<a href="https://github.com/jekyll/jekyll/issues/2135">Sort only sorts in binary #2135</a></li>
</ul>

<h3 id="solution-is-simple">Solution is simple:</h3>

<ul>
  <li><code class="highlighter-rouge">some_list | sort: 'downcase'</code> for strings</li>
</ul>

<p><br /><br />
<strong><em>KF</em></strong></p>
